<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">

	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<title>Geocoding</title>
		<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
		<script type="text/javascript">
			var map = document.getElementById("map");

			function showpath() {
				var directionsService = new google.maps.DirectionsService(); //实例构造
				var directionsDisplay = new google.maps.DirectionsRenderer({
					markerOptions: {
						'map': map
					} //行车路线
				});
				var pointArr1 = new google.maps.LatLng(22.566758, 113.885292);
				var pointArr2 = new google.maps.LatLng(31.238508612629097, 121.46677494049072);
				directionsDisplay.setMap(map);
				var request = {
					origin: pointArr1, //起点
					destination: pointArr2, //终点
					optimizeWaypoints: false, //为true，重新排列中间路标顺序，最大程度降低路线整体成本
					travelMode: google.maps.TravelMode.DRIVING, //驾车路线
					unitSystem: google.maps.UnitSystem.METRIC //单位为米
				};
				directionsService.route(request, function(response, status) {
					if(status == google.maps.DirectionsStatus.OK) {
						directionsDisplay.setDirections(response); //将返回的路线信息赋给directionsDisplay，显示在地图上
					} else {}
				});
			}
		</script>
	</head>

	<body onload="showpath()">
		<div id="map" style="width: 500px; height: 300px">
		</div>
	</body>

</html>